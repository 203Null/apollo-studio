<template lang="pug">
.preview
  .launchpad
    .svg
      svg(viewbox="0 0 500 500"
      preserveAspectRatio="xMidYMid meet"
      width="100%" height="100%" ref="svg")
        g(transform="scale(0.25)")
          rect(x="242" y="487" width="16" height="25" transform="matrix(1,0,0,1,0,0)" fill="rgb(235,235,235)" button="99"
            @pointerdown="mdown(99)" @pointerup="mup(99)"
            @pointerover="pointerover(99)" @pointerout="pointerout(99)")
          path(d="M 12.5 2.5 L 487.5 2.5 C 493.019 2.5 497.5 6.981 497.5 12.5 L 497.5 487.5 C 497.5 493.019 493.019 497.5 487.5 497.5 L 12.5 497.5 C 6.981 497.5 2.5 493.019 2.5 487.5 L 2.5 12.5 C 2.5 6.981 6.981 2.5 12.5 2.5 Z" fill="rgb(33,33,33)")
          path(v-for="(button, index) in buttons" :d="button" :button="index" fill="rgb(235,235,235)"
            @pointerdown="mdown(index)" @pointerup="mup(index)"
            @pointerover="pointerover(index)" @pointerout="pointerout(index)")
</template>

<script>
export default {
  name: "preview",
  props: {
    data: {
      type: Object,
      required: true,
    },
  },
  data: () => ({
    unwatch: false,
    factor: 63 / 255,
    pointerdown: false,
    buttons: {
      "81":
        "M 72 69 L 106 69 C 107.656 69 109 70.344 109 72 L 109 106 C 109 107.656 107.656 109 106 109 L 72 109 C 70.344 109 69 107.656 69 106 L 69 72 C 69 70.344 70.344 69 72 69 Z",
      "82":
        "M 118 69 L 152 69 C 153.656 69 155 70.344 155 72 L 155 106 C 155 107.656 153.656 109 152 109 L 118 109 C 116.344 109 115 107.656 115 106 L 115 72 C 115 70.344 116.344 69 118 69 Z",
      "83":
        "M 164 69 L 198 69 C 199.656 69 201 70.344 201 72 L 201 106 C 201 107.656 199.656 109 198 109 L 164 109 C 162.344 109 161 107.656 161 106 L 161 72 C 161 70.344 162.344 69 164 69 Z",
      "84":
        "M 210 69 L 244 69 C 245.656 69 247 70.344 247 72 L 247 106 C 247 107.656 245.656 109 244 109 L 210 109 C 208.344 109 207 107.656 207 106 L 207 72 C 207 70.344 208.344 69 210 69 Z",
      "85":
        "M 256 69 L 290 69 C 291.656 69 293 70.344 293 72 L 293 106 C 293 107.656 291.656 109 290 109 L 256 109 C 254.344 109 253 107.656 253 106 L 253 72 C 253 70.344 254.344 69 256 69 Z",
      "86":
        "M 302 69 L 336 69 C 337.656 69 339 70.344 339 72 L 339 106 C 339 107.656 337.656 109 336 109 L 302 109 C 300.344 109 299 107.656 299 106 L 299 72 C 299 70.344 300.344 69 302 69 Z",
      "87":
        "M 348 69 L 382 69 C 383.656 69 385 70.344 385 72 L 385 106 C 385 107.656 383.656 109 382 109 L 348 109 C 346.344 109 345 107.656 345 106 L 345 72 C 345 70.344 346.344 69 348 69 Z",
      "88":
        "M 394 69 L 428 69 C 429.656 69 431 70.344 431 72 L 431 106 C 431 107.656 429.656 109 428 109 L 394 109 C 392.344 109 391 107.656 391 106 L 391 72 C 391 70.344 392.344 69 394 69 Z",
      "71":
        "M 72 115 L 106 115 C 107.656 115 109 116.344 109 118 L 109 152 C 109 153.656 107.656 155 106 155 L 72 155 C 70.344 155 69 153.656 69 152 L 69 118 C 69 116.344 70.344 115 72 115 Z",
      "72":
        "M 118 115 L 152 115 C 153.656 115 155 116.344 155 118 L 155 152 C 155 153.656 153.656 155 152 155 L 118 155 C 116.344 155 115 153.656 115 152 L 115 118 C 115 116.344 116.344 115 118 115 Z",
      "73":
        "M 164 115 L 198 115 C 199.656 115 201 116.344 201 118 L 201 152 C 201 153.656 199.656 155 198 155 L 164 155 C 162.344 155 161 153.656 161 152 L 161 118 C 161 116.344 162.344 115 164 115 Z",
      "74":
        "M 210 115 L 244 115 C 245.656 115 247 116.344 247 118 L 247 152 C 247 153.656 245.656 155 244 155 L 210 155 C 208.344 155 207 153.656 207 152 L 207 118 C 207 116.344 208.344 115 210 115 Z",
      "75":
        "M 256 115 L 290 115 C 291.656 115 293 116.344 293 118 L 293 152 C 293 153.656 291.656 155 290 155 L 256 155 C 254.344 155 253 153.656 253 152 L 253 118 C 253 116.344 254.344 115 256 115 Z",
      "76":
        "M 302 115 L 336 115 C 337.656 115 339 116.344 339 118 L 339 152 C 339 153.656 337.656 155 336 155 L 302 155 C 300.344 155 299 153.656 299 152 L 299 118 C 299 116.344 300.344 115 302 115 Z",
      "77":
        "M 348 115 L 382 115 C 383.656 115 385 116.344 385 118 L 385 152 C 385 153.656 383.656 155 382 155 L 348 155 C 346.344 155 345 153.656 345 152 L 345 118 C 345 116.344 346.344 115 348 115 Z",
      "78":
        "M 394 115 L 428 115 C 429.656 115 431 116.344 431 118 L 431 152 C 431 153.656 429.656 155 428 155 L 394 155 C 392.344 155 391 153.656 391 152 L 391 118 C 391 116.344 392.344 115 394 115 Z",
      "61":
        "M 72 161 L 106 161 C 107.656 161 109 162.344 109 164 L 109 198 C 109 199.656 107.656 201 106 201 L 72 201 C 70.344 201 69 199.656 69 198 L 69 164 C 69 162.344 70.344 161 72 161 Z",
      "62":
        "M 118 161 L 152 161 C 153.656 161 155 162.344 155 164 L 155 198 C 155 199.656 153.656 201 152 201 L 118 201 C 116.344 201 115 199.656 115 198 L 115 164 C 115 162.344 116.344 161 118 161 Z",
      "63":
        "M 164 161 L 198 161 C 199.656 161 201 162.344 201 164 L 201 198 C 201 199.656 199.656 201 198 201 L 164 201 C 162.344 201 161 199.656 161 198 L 161 164 C 161 162.344 162.344 161 164 161 Z",
      "64":
        "M 210 161 L 244 161 C 245.656 161 247 162.344 247 164 L 247 198 C 247 199.656 245.656 201 244 201 L 210 201 C 208.344 201 207 199.656 207 198 L 207 164 C 207 162.344 208.344 161 210 161 Z",
      "65":
        "M 256 161 L 290 161 C 291.656 161 293 162.344 293 164 L 293 198 C 293 199.656 291.656 201 290 201 L 256 201 C 254.344 201 253 199.656 253 198 L 253 164 C 253 162.344 254.344 161 256 161 Z",
      "66":
        "M 302 161 L 336 161 C 337.656 161 339 162.344 339 164 L 339 198 C 339 199.656 337.656 201 336 201 L 302 201 C 300.344 201 299 199.656 299 198 L 299 164 C 299 162.344 300.344 161 302 161 Z",
      "67":
        "M 348 161 L 382 161 C 383.656 161 385 162.344 385 164 L 385 198 C 385 199.656 383.656 201 382 201 L 348 201 C 346.344 201 345 199.656 345 198 L 345 164 C 345 162.344 346.344 161 348 161 Z",
      "68":
        "M 394 161 L 428 161 C 429.656 161 431 162.344 431 164 L 431 198 C 431 199.656 429.656 201 428 201 L 394 201 C 392.344 201 391 199.656 391 198 L 391 164 C 391 162.344 392.344 161 394 161 Z",
      "51":
        "M 72 207 L 106 207 C 107.656 207 109 208.344 109 210 L 109 244 C 109 245.656 107.656 247 106 247 L 72 247 C 70.344 247 69 245.656 69 244 L 69 210 C 69 208.344 70.344 207 72 207 Z",
      "52":
        "M 118 207 L 152 207 C 153.656 207 155 208.344 155 210 L 155 244 C 155 245.656 153.656 247 152 247 L 118 247 C 116.344 247 115 245.656 115 244 L 115 210 C 115 208.344 116.344 207 118 207 Z",
      "53":
        "M 164 207 L 198 207 C 199.656 207 201 208.344 201 210 L 201 244 C 201 245.656 199.656 247 198 247 L 164 247 C 162.344 247 161 245.656 161 244 L 161 210 C 161 208.344 162.344 207 164 207 Z",
      "54":
        "M 210 207 L 244 207 C 245.656 207 247 208.344 247 210 L 247 232.116 C 247 240.331 240.331 247 232.116 247 L 210 247 C 208.344 247 207 245.656 207 244 L 207 210 C 207 208.344 208.344 207 210 207 Z",
      "55":
        "M 256 207 L 290 207 C 291.656 207 293 208.344 293 210 L 293 244 C 293 245.656 291.656 247 290 247 L 268 247 C 259.721 247 253 240.279 253 232 L 253 210 C 253 208.344 254.344 207 256 207 Z",
      "56":
        "M 302 207 L 336 207 C 337.656 207 339 208.344 339 210 L 339 244 C 339 245.656 337.656 247 336 247 L 302 247 C 300.344 247 299 245.656 299 244 L 299 210 C 299 208.344 300.344 207 302 207 Z",
      "57":
        "M 348 207 L 382 207 C 383.656 207 385 208.344 385 210 L 385 244 C 385 245.656 383.656 247 382 247 L 348 247 C 346.344 247 345 245.656 345 244 L 345 210 C 345 208.344 346.344 207 348 207 Z",
      "58":
        "M 394 207 L 428 207 C 429.656 207 431 208.344 431 210 L 431 244 C 431 245.656 429.656 247 428 247 L 394 247 C 392.344 247 391 245.656 391 244 L 391 210 C 391 208.344 392.344 207 394 207 Z",
      "41":
        "M 72 253 L 106 253 C 107.656 253 109 254.344 109 256 L 109 290 C 109 291.656 107.656 293 106 293 L 72 293 C 70.344 293 69 291.656 69 290 L 69 256 C 69 254.344 70.344 253 72 253 Z",
      "42":
        "M 118 253 L 152 253 C 153.656 253 155 254.344 155 256 L 155 290 C 155 291.656 153.656 293 152 293 L 118 293 C 116.344 293 115 291.656 115 290 L 115 256 C 115 254.344 116.344 253 118 253 Z",
      "43":
        "M 164 253 L 198 253 C 199.656 253 201 254.344 201 256 L 201 290 C 201 291.656 199.656 293 198 293 L 164 293 C 162.344 293 161 291.656 161 290 L 161 256 C 161 254.344 162.344 253 164 253 Z",
      "44":
        "M 210 253 L 232 253 C 240.279 253 247 259.721 247 268 L 247 290 C 247 291.656 245.656 293 244 293 L 210 293 C 208.344 293 207 291.656 207 290 L 207 256 C 207 254.344 208.344 253 210 253 Z",
      "45":
        "M 268 253 L 290 253 C 291.656 253 293 254.344 293 256 L 293 290 C 293 291.656 291.656 293 290 293 L 256 293 C 254.344 293 253 291.656 253 290 L 253 268 C 253 259.721 259.721 253 268 253 Z",
      "46":
        "M 302 253 L 336 253 C 337.656 253 339 254.344 339 256 L 339 290 C 339 291.656 337.656 293 336 293 L 302 293 C 300.344 293 299 291.656 299 290 L 299 256 C 299 254.344 300.344 253 302 253 Z",
      "47":
        "M 348 253 L 382 253 C 383.656 253 385 254.344 385 256 L 385 290 C 385 291.656 383.656 293 382 293 L 348 293 C 346.344 293 345 291.656 345 290 L 345 256 C 345 254.344 346.344 253 348 253 Z",
      "48":
        "M 394 253 L 428 253 C 429.656 253 431 254.344 431 256 L 431 290 C 431 291.656 429.656 293 428 293 L 394 293 C 392.344 293 391 291.656 391 290 L 391 256 C 391 254.344 392.344 253 394 253 Z",
      "31":
        "M 72 299 L 106 299 C 107.656 299 109 300.344 109 302 L 109 336 C 109 337.656 107.656 339 106 339 L 72 339 C 70.344 339 69 337.656 69 336 L 69 302 C 69 300.344 70.344 299 72 299 Z",
      "32":
        "M 118 299 L 152 299 C 153.656 299 155 300.344 155 302 L 155 336 C 155 337.656 153.656 339 152 339 L 118 339 C 116.344 339 115 337.656 115 336 L 115 302 C 115 300.344 116.344 299 118 299 Z",
      "33":
        "M 164 299 L 198 299 C 199.656 299 201 300.344 201 302 L 201 336 C 201 337.656 199.656 339 198 339 L 164 339 C 162.344 339 161 337.656 161 336 L 161 302 C 161 300.344 162.344 299 164 299 Z",
      "34":
        "M 210 299 L 244 299 C 245.656 299 247 300.344 247 302 L 247 336 C 247 337.656 245.656 339 244 339 L 210 339 C 208.344 339 207 337.656 207 336 L 207 302 C 207 300.344 208.344 299 210 299 Z",
      "35":
        "M 256 299 L 290 299 C 291.656 299 293 300.344 293 302 L 293 336 C 293 337.656 291.656 339 290 339 L 256 339 C 254.344 339 253 337.656 253 336 L 253 302 C 253 300.344 254.344 299 256 299 Z",
      "36":
        "M 302 299 L 336 299 C 337.656 299 339 300.344 339 302 L 339 336 C 339 337.656 337.656 339 336 339 L 302 339 C 300.344 339 299 337.656 299 336 L 299 302 C 299 300.344 300.344 299 302 299 Z",
      "37":
        "M 348 299 L 382 299 C 383.656 299 385 300.344 385 302 L 385 336 C 385 337.656 383.656 339 382 339 L 348 339 C 346.344 339 345 337.656 345 336 L 345 302 C 345 300.344 346.344 299 348 299 Z",
      "38":
        "M 394 299 L 428 299 C 429.656 299 431 300.344 431 302 L 431 336 C 431 337.656 429.656 339 428 339 L 394 339 C 392.344 339 391 337.656 391 336 L 391 302 C 391 300.344 392.344 299 394 299 Z",
      "21":
        "M 72 345 L 106 345 C 107.656 345 109 346.344 109 348 L 109 382 C 109 383.656 107.656 385 106 385 L 72 385 C 70.344 385 69 383.656 69 382 L 69 348 C 69 346.344 70.344 345 72 345 Z",
      "22":
        "M 118 345 L 152 345 C 153.656 345 155 346.344 155 348 L 155 382 C 155 383.656 153.656 385 152 385 L 118 385 C 116.344 385 115 383.656 115 382 L 115 348 C 115 346.344 116.344 345 118 345 Z",
      "23":
        "M 164 345 L 198 345 C 199.656 345 201 346.344 201 348 L 201 382 C 201 383.656 199.656 385 198 385 L 164 385 C 162.344 385 161 383.656 161 382 L 161 348 C 161 346.344 162.344 345 164 345 Z",
      "24":
        "M 210 345 L 244 345 C 245.656 345 247 346.344 247 348 L 247 382 C 247 383.656 245.656 385 244 385 L 210 385 C 208.344 385 207 383.656 207 382 L 207 348 C 207 346.344 208.344 345 210 345 Z",
      "25":
        "M 256 345 L 290 345 C 291.656 345 293 346.344 293 348 L 293 382 C 293 383.656 291.656 385 290 385 L 256 385 C 254.344 385 253 383.656 253 382 L 253 348 C 253 346.344 254.344 345 256 345 Z",
      "26":
        "M 302 345 L 336 345 C 337.656 345 339 346.344 339 348 L 339 382 C 339 383.656 337.656 385 336 385 L 302 385 C 300.344 385 299 383.656 299 382 L 299 348 C 299 346.344 300.344 345 302 345 Z",
      "27":
        "M 348 345 L 382 345 C 383.656 345 385 346.344 385 348 L 385 382 C 385 383.656 383.656 385 382 385 L 348 385 C 346.344 385 345 383.656 345 382 L 345 348 C 345 346.344 346.344 345 348 345 Z",
      "28":
        "M 394 345 L 428 345 C 429.656 345 431 346.344 431 348 L 431 382 C 431 383.656 429.656 385 428 385 L 394 385 C 392.344 385 391 383.656 391 382 L 391 348 C 391 346.344 392.344 345 394 345 Z",
      "11":
        "M 72 391 L 106 391 C 107.656 391 109 392.344 109 394 L 109 428 C 109 429.656 107.656 431 106 431 L 72 431 C 70.344 431 69 429.656 69 428 L 69 394 C 69 392.344 70.344 391 72 391 Z",
      "12":
        "M 118 391 L 152 391 C 153.656 391 155 392.344 155 394 L 155 428 C 155 429.656 153.656 431 152 431 L 118 431 C 116.344 431 115 429.656 115 428 L 115 394 C 115 392.344 116.344 391 118 391 Z",
      "13":
        "M 164 391 L 198 391 C 199.656 391 201 392.344 201 394 L 201 428 C 201 429.656 199.656 431 198 431 L 164 431 C 162.344 431 161 429.656 161 428 L 161 394 C 161 392.344 162.344 391 164 391 Z",
      "14":
        "M 210 391 L 244 391 C 245.656 391 247 392.344 247 394 L 247 428 C 247 429.656 245.656 431 244 431 L 210 431 C 208.344 431 207 429.656 207 428 L 207 394 C 207 392.344 208.344 391 210 391 Z",
      "15":
        "M 256 391 L 290 391 C 291.656 391 293 392.344 293 394 L 293 428 C 293 429.656 291.656 431 290 431 L 256 431 C 254.344 431 253 429.656 253 428 L 253 394 C 253 392.344 254.344 391 256 391 Z",
      "16":
        "M 302 391 L 336 391 C 337.656 391 339 392.344 339 394 L 339 428 C 339 429.656 337.656 431 336 431 L 302 431 C 300.344 431 299 429.656 299 428 L 299 394 C 299 392.344 300.344 391 302 391 Z",
      "17":
        "M 348 391 L 382 391 C 383.656 391 385 392.344 385 394 L 385 428 C 385 429.656 383.656 431 382 431 L 348 431 C 346.344 431 345 429.656 345 428 L 345 394 C 345 392.344 346.344 391 348 391 Z",
      "18":
        "M 394 391 L 428 391 C 429.656 391 431 392.344 431 394 L 431 428 C 431 429.656 429.656 431 428 431 L 394 431 C 392.344 431 391 429.656 391 428 L 391 394 C 391 392.344 392.344 391 394 391 Z",
      "8":
        " M 425.5 457.5 C 425.5 465.779 418.779 472.5 410.5 472.5 C 402.221 472.5 395.5 465.779 395.5 457.5 C 395.5 449.221 402.221 442.5 410.5 442.5 C 418.779 442.5 425.5 449.221 425.5 457.5 Z ",
      "7":
        " M 379.5 457.5 C 379.5 465.779 372.779 472.5 364.5 472.5 C 356.221 472.5 349.5 465.779 349.5 457.5 C 349.5 449.221 356.221 442.5 364.5 442.5 C 372.779 442.5 379.5 449.221 379.5 457.5 Z ",
      "6":
        " M 333.5 457.5 C 333.5 465.779 326.779 472.5 318.5 472.5 C 310.221 472.5 303.5 465.779 303.5 457.5 C 303.5 449.221 310.221 442.5 318.5 442.5 C 326.779 442.5 333.5 449.221 333.5 457.5 Z ",
      "5":
        " M 287.5 457.5 C 287.5 465.779 280.779 472.5 272.5 472.5 C 264.221 472.5 257.5 465.779 257.5 457.5 C 257.5 449.221 264.221 442.5 272.5 442.5 C 280.779 442.5 287.5 449.221 287.5 457.5 Z ",
      "4":
        " M 241.5 457.5 C 241.5 465.779 234.779 472.5 226.5 472.5 C 218.221 472.5 211.5 465.779 211.5 457.5 C 211.5 449.221 218.221 442.5 226.5 442.5 C 234.779 442.5 241.5 449.221 241.5 457.5 Z ",
      "3":
        " M 195.5 457.5 C 195.5 465.779 188.779 472.5 180.5 472.5 C 172.221 472.5 165.5 465.779 165.5 457.5 C 165.5 449.221 172.221 442.5 180.5 442.5 C 188.779 442.5 195.5 449.221 195.5 457.5 Z ",
      "2":
        " M 149.5 457.5 C 149.5 465.779 142.779 472.5 134.5 472.5 C 126.221 472.5 119.5 465.779 119.5 457.5 C 119.5 449.221 126.221 442.5 134.5 442.5 C 142.779 442.5 149.5 449.221 149.5 457.5 Z ",
      "1":
        " M 103.5 457.5 C 103.5 465.779 96.779 472.5 88.5 472.5 C 80.221 472.5 73.5 465.779 73.5 457.5 C 73.5 449.221 80.221 442.5 88.5 442.5 C 96.779 442.5 103.5 449.221 103.5 457.5 Z ",
      "98":
        " M 425.5 42.5 C 425.5 50.779 418.779 57.5 410.5 57.5 C 402.221 57.5 395.5 50.779 395.5 42.5 C 395.5 34.221 402.221 27.5 410.5 27.5 C 418.779 27.5 425.5 34.221 425.5 42.5 Z ",
      "97":
        " M 379.5 42.5 C 379.5 50.779 372.779 57.5 364.5 57.5 C 356.221 57.5 349.5 50.779 349.5 42.5 C 349.5 34.221 356.221 27.5 364.5 27.5 C 372.779 27.5 379.5 34.221 379.5 42.5 Z ",
      "96":
        " M 333.5 42.5 C 333.5 50.779 326.779 57.5 318.5 57.5 C 310.221 57.5 303.5 50.779 303.5 42.5 C 303.5 34.221 310.221 27.5 318.5 27.5 C 326.779 27.5 333.5 34.221 333.5 42.5 Z ",
      "95":
        " M 287.5 42.5 C 287.5 50.779 280.779 57.5 272.5 57.5 C 264.221 57.5 257.5 50.779 257.5 42.5 C 257.5 34.221 264.221 27.5 272.5 27.5 C 280.779 27.5 287.5 34.221 287.5 42.5 Z ",
      "94":
        " M 241.5 42.5 C 241.5 50.779 234.779 57.5 226.5 57.5 C 218.221 57.5 211.5 50.779 211.5 42.5 C 211.5 34.221 218.221 27.5 226.5 27.5 C 234.779 27.5 241.5 34.221 241.5 42.5 Z ",
      "93":
        " M 195.5 42.5 C 195.5 50.779 188.779 57.5 180.5 57.5 C 172.221 57.5 165.5 50.779 165.5 42.5 C 165.5 34.221 172.221 27.5 180.5 27.5 C 188.779 27.5 195.5 34.221 195.5 42.5 Z ",
      "92":
        " M 149.5 42.5 C 149.5 50.779 142.779 57.5 134.5 57.5 C 126.221 57.5 119.5 50.779 119.5 42.5 C 119.5 34.221 126.221 27.5 134.5 27.5 C 142.779 27.5 149.5 34.221 149.5 42.5 Z ",
      "91":
        " M 103.5 42.5 C 103.5 50.779 96.779 57.5 88.5 57.5 C 80.221 57.5 73.5 50.779 73.5 42.5 C 73.5 34.221 80.221 27.5 88.5 27.5 C 96.779 27.5 103.5 34.221 103.5 42.5 Z ",
      "10":
        " M 42.5 426.5 C 34.221 426.5 27.5 419.779 27.5 411.5 C 27.5 403.221 34.221 396.5 42.5 396.5 C 50.779 396.5 57.5 403.221 57.5 411.5 C 57.5 419.779 50.779 426.5 42.5 426.5 Z ",
      "20":
        " M 42.5 380.5 C 34.221 380.5 27.5 373.779 27.5 365.5 C 27.5 357.221 34.221 350.5 42.5 350.5 C 50.779 350.5 57.5 357.221 57.5 365.5 C 57.5 373.779 50.779 380.5 42.5 380.5 Z ",
      "30":
        " M 42.5 334.5 C 34.221 334.5 27.5 327.779 27.5 319.5 C 27.5 311.221 34.221 304.5 42.5 304.5 C 50.779 304.5 57.5 311.221 57.5 319.5 C 57.5 327.779 50.779 334.5 42.5 334.5 Z ",
      "40":
        " M 42.5 288.5 C 34.221 288.5 27.5 281.779 27.5 273.5 C 27.5 265.221 34.221 258.5 42.5 258.5 C 50.779 258.5 57.5 265.221 57.5 273.5 C 57.5 281.779 50.779 288.5 42.5 288.5 Z ",
      "50":
        " M 42.5 242.5 C 34.221 242.5 27.5 235.779 27.5 227.5 C 27.5 219.221 34.221 212.5 42.5 212.5 C 50.779 212.5 57.5 219.221 57.5 227.5 C 57.5 235.779 50.779 242.5 42.5 242.5 Z ",
      "60":
        " M 42.5 196.5 C 34.221 196.5 27.5 189.779 27.5 181.5 C 27.5 173.221 34.221 166.5 42.5 166.5 C 50.779 166.5 57.5 173.221 57.5 181.5 C 57.5 189.779 50.779 196.5 42.5 196.5 Z ",
      "70":
        " M 42.5 150.5 C 34.221 150.5 27.5 143.779 27.5 135.5 C 27.5 127.221 34.221 120.5 42.5 120.5 C 50.779 120.5 57.5 127.221 57.5 135.5 C 57.5 143.779 50.779 150.5 42.5 150.5 Z ",
      "80":
        " M 42.5 104.5 C 34.221 104.5 27.5 97.779 27.5 89.5 C 27.5 81.221 34.221 74.5 42.5 74.5 C 50.779 74.5 57.5 81.221 57.5 89.5 C 57.5 97.779 50.779 104.5 42.5 104.5 Z ",
      "19":
        " M 457.5 426.5 C 449.221 426.5 442.5 419.779 442.5 411.5 C 442.5 403.221 449.221 396.5 457.5 396.5 C 465.779 396.5 472.5 403.221 472.5 411.5 C 472.5 419.779 465.779 426.5 457.5 426.5 Z ",
      "29":
        " M 457.5 380.5 C 449.221 380.5 442.5 373.779 442.5 365.5 C 442.5 357.221 449.221 350.5 457.5 350.5 C 465.779 350.5 472.5 357.221 472.5 365.5 C 472.5 373.779 465.779 380.5 457.5 380.5 Z ",
      "39":
        " M 457.5 334.5 C 449.221 334.5 442.5 327.779 442.5 319.5 C 442.5 311.221 449.221 304.5 457.5 304.5 C 465.779 304.5 472.5 311.221 472.5 319.5 C 472.5 327.779 465.779 334.5 457.5 334.5 Z ",
      "49":
        " M 457.5 288.5 C 449.221 288.5 442.5 281.779 442.5 273.5 C 442.5 265.221 449.221 258.5 457.5 258.5 C 465.779 258.5 472.5 265.221 472.5 273.5 C 472.5 281.779 465.779 288.5 457.5 288.5 Z ",
      "59":
        " M 457.5 242.5 C 449.221 242.5 442.5 235.779 442.5 227.5 C 442.5 219.221 449.221 212.5 457.5 212.5 C 465.779 212.5 472.5 219.221 472.5 227.5 C 472.5 235.779 465.779 242.5 457.5 242.5 Z ",
      "69":
        " M 457.5 196.5 C 449.221 196.5 442.5 189.779 442.5 181.5 C 442.5 173.221 449.221 166.5 457.5 166.5 C 465.779 166.5 472.5 173.221 472.5 181.5 C 472.5 189.779 465.779 196.5 457.5 196.5 Z ",
      "79":
        " M 457.5 150.5 C 449.221 150.5 442.5 143.779 442.5 135.5 C 442.5 127.221 449.221 120.5 457.5 120.5 C 465.779 120.5 472.5 127.221 472.5 135.5 C 472.5 143.779 465.779 150.5 457.5 150.5 Z ",
      "89":
        " M 457.5 104.5 C 449.221 104.5 442.5 97.779 442.5 89.5 C 442.5 81.221 449.221 74.5 457.5 74.5 C 465.779 74.5 472.5 81.221 472.5 89.5 C 472.5 97.779 465.779 104.5 457.5 104.5 Z ",
    },
  }),
  mounted() {
    const self = this
    self.unwatch = self.$watch(
      "data",
      n => {
        if (!n.data.signal) n = { data: { signal: n } }
        console.log(JSON.parse(JSON.stringify(n)))
        let { red, green, blue } = n.data.signal.data.color.data
        const index = n.data.signal.data.index
        const el = self.$refs.svg.querySelector(`path[button='${index}']`)
        // TODO: make colors nicer :)
        if (red === 0 && green === 0 && blue === 0) red = green = blue = 235
        if (el)
          el.style.fill = `rgb(${red / self.factor}, ${green /
            self.factor}, ${blue / self.factor})`
      },
      { deep: true }
    )
  },
  methods: {
    mdown(index) {
      this.pointerdown = true
      this.update({
        type: "signal",
        press: !0,
        index,
      })
    },
    mup(index) {
      this.pointerdown = false
      this.update({
        type: "signal",
        press: !1,
        index,
      })
    },
    update(data) {
      this.$emit("update", {
        path: "",
        data,
      })
    },
    mmove() {},
    pointerover(index) {
      if (this.pointerdown) {
        this.update({
          type: "signal",
          press: !0,
          index,
        })
      }
    },
    pointerout(index) {
      if (this.pointerdown) {
        this.update({
          type: "signal",
          press: !1,
          index,
        })
      }
    },
  },
}
</script>

<style lang="scss">
.device > .inner > .component.preview {
  height: 100%;
  width: 150px;
  display: flex;
  justify-content: center;
  align-items: center;
  > .launchpad {
    > .svg {
      width: 125px;
      height: 125px;
    }
  }
}
</style>
